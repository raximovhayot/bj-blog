---
export interface Props {
  series: string;
  seriesName: string;
  title?: string;
  description?: string;
  postCount?: number;
  size?: "sm" | "lg";
}

const {
  series,
  seriesName,
  title,
  description,
  postCount,
  size = "sm",
} = Astro.props;
---

<li
  class={`inline-block ${
    size === "sm" ? "my-1 underline-offset-4" : "my-3 mx-1 underline-offset-8"
  }`}
>
  <div class="flex items-center">
    <a
      href={`/series/${series}/`}
      transition:name={series}
      class={`${size === "sm" ? "text-sm" : "text-lg"} pr-2 group series-link`}
    >
      <span>{title || seriesName}</span>
    </a>
    {
      postCount !== undefined && (
        <span class="ml-2 rounded-full bg-skin-accent px-2 py-0.5 text-xs text-skin-inverted">
          {postCount} post{postCount !== 1 ? "s" : ""}
        </span>
      )
    }
  </div>
  {description && <p class="mt-1 text-sm text-gray-500">{description}</p>}
</li>

<style>
  .series-link {
    @apply relative font-medium text-skin-accent no-underline hover:text-skin-accent hover:underline focus-visible:p-1;
    transition:
      color 0.2s ease,
      transform 0.2s ease;
  }

  .series-link:hover {
    transform: translateY(-2px);
  }
</style>
